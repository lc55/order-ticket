{"ast":null,"code":"var _jsxFileName = \"E:\\\\React\\\\workspace\\\\order-ticket\\\\src\\\\pages\\\\User\\\\Passenger\\\\index.jsx\";\nimport React, { Component } from 'react';\nimport { Input, Card, Table, Drawer, Form, Button, Col, Row, Space, message, Radio, Popconfirm } from 'antd';\nimport { PlusOutlined } from '@ant-design/icons';\nimport LinkButton from '../../../components/LinkButton';\nimport { addPassenger, deletePassenger, editPassenger, getPassengerList } from '../../../api/user/user';\nimport storageUtils from '../../../utils/storageUtils';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class PlatForm extends Component {\n  constructor(...args) {\n    super(...args);\n    this.myForm = /*#__PURE__*/React.createRef();\n    this.state = {\n      showStatus: 0,\n      count: 0,\n      dataSource: [],\n      passengerInfo: {}\n    };\n\n    this.showAddUser = () => {\n      this.setState({\n        visible: 1\n      });\n    };\n\n    this.onClose = () => {\n      this.setState({\n        visible: 0\n      });\n      this.myForm.current.resetFields();\n    };\n\n    this.addPassenger = async values => {\n      const {\n        name,\n        idCard,\n        phone\n      } = values;\n      const user = storageUtils.getUser();\n      const result = await addPassenger(phone, name, idCard, user.id);\n\n      if (result.code === 1) {\n        message.success('添加成功');\n        const result = await getPassengerList(user.id);\n\n        if (result.code === 1) {\n          this.setState({\n            dataSource: result.data\n          });\n        } else {\n          message.error(result.msg);\n        }\n\n        this.setState({\n          visible: 0\n        });\n        this.myForm.current.resetFields();\n      } else {\n        message.error(result.msg);\n      }\n    };\n\n    this.showUpdateUser = record => {\n      this.setState({\n        visible: 2,\n        passengerInfo: record\n      });\n    };\n\n    this.updateUser = async values => {\n      const {\n        phone,\n        name,\n        idCard,\n        id\n      } = values;\n      const user = storageUtils.getUser();\n      const result = await editPassenger(phone, name, idCard, id);\n\n      if (result.code === 1) {\n        message.success('编辑成功');\n        const result = await getPassengerList(user.id);\n\n        if (result.code === 1) {\n          this.setState({\n            dataSource: result.data\n          });\n        } else {\n          message.error(result.msg);\n        }\n\n        this.setState({\n          visible: 0\n        });\n        this.myForm.current.resetFields();\n      }\n    };\n\n    this.handleDelete = async id => {\n      const result = await deletePassenger(id);\n\n      if (result.code === 1) {\n        message.success('删除成功');\n        const user = storageUtils.getUser();\n        const result = await getPassengerList(user.id);\n\n        if (result.code === 1) {\n          this.setState({\n            dataSource: result.data\n          });\n        } else {\n          message.error(result.msg);\n        }\n      } else {\n        message.error(result.msg);\n      }\n    };\n  }\n\n  async componentDidMount() {\n    const user = storageUtils.getUser();\n    if (Object.keys(user).length === 0) return;\n    const result = await getPassengerList(user.id);\n\n    if (result.code === 1) {\n      this.setState({\n        dataSource: result.data\n      });\n    } else {\n      message.error(result.msg);\n    }\n  }\n\n  render() {\n    const {\n      visible,\n      dataSource,\n      passengerInfo\n    } = this.state;\n    const user = storageUtils.getUser();\n    const columns = [{\n      title: '姓名',\n      dataIndex: 'passengerName',\n      key: '1',\n      align: 'center'\n    }, {\n      title: '身份证',\n      dataIndex: 'passengerCard',\n      key: '2',\n      align: 'center'\n    }, {\n      title: '手机号码',\n      dataIndex: 'passengerPhone',\n      key: '3',\n      align: 'center'\n    }, {\n      title: '操作',\n      key: '4',\n      render: (_, record) => /*#__PURE__*/_jsxDEV(Space, {\n        size: \"middle\",\n        children: [/*#__PURE__*/_jsxDEV(LinkButton, {\n          onClick: () => {\n            this.showUpdateUser(record);\n          },\n          children: \"\\u7F16\\u8F91\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Popconfirm, {\n          title: \"\\u786E\\u5B9A\\u5220\\u9664\\u5417\",\n          onConfirm: () => this.handleDelete(record.id),\n          children: /*#__PURE__*/_jsxDEV(LinkButton, {\n            children: \"\\u5220\\u9664\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 21\n      }, this),\n      align: 'center'\n    }];\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: Object.keys(user).length === 0 ? /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [\"\\u8BF7\\u5148\", /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/user/login\",\n          children: \"\\u767B\\u5F55\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 33\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 25\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            extra: /*#__PURE__*/_jsxDEV(Button, {\n              icon: /*#__PURE__*/_jsxDEV(PlusOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 55\n              }, this),\n              type: \"primary\",\n              onClick: this.showAddUser,\n              children: \"\\u65B0\\u589E\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 41\n            }, this),\n            children: /*#__PURE__*/_jsxDEV(Table, {\n              columns: columns,\n              dataSource: dataSource,\n              bordered: true,\n              rowKey: \"key\",\n              pagination: false\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Drawer, {\n            title: \"\\u65B0\\u589E\\u7528\\u6237\",\n            width: 500,\n            onClose: this.onClose,\n            visible: visible === 1,\n            bodyStyle: {\n              paddingBottom: 80\n            },\n            children: /*#__PURE__*/_jsxDEV(Form, {\n              layout: \"vertical\",\n              onFinish: this.addPassenger,\n              ref: this.myForm,\n              children: [/*#__PURE__*/_jsxDEV(Row, {\n                gutter: 16,\n                children: /*#__PURE__*/_jsxDEV(Col, {\n                  span: 12,\n                  children: /*#__PURE__*/_jsxDEV(Form.Item, {\n                    name: \"name\",\n                    label: \"\\u59D3\\u540D\",\n                    rules: [{\n                      required: true,\n                      message: '请输入姓名!'\n                    }],\n                    children: /*#__PURE__*/_jsxDEV(Input, {\n                      autoComplete: \"off\",\n                      placeholder: \"\\u8BF7\\u8F93\\u5165\\u59D3\\u540D\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 184,\n                      columnNumber: 53\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 179,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 178,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(Row, {\n                gutter: 16,\n                children: /*#__PURE__*/_jsxDEV(Col, {\n                  span: 12,\n                  children: /*#__PURE__*/_jsxDEV(Form.Item, {\n                    name: \"idCard\",\n                    label: \"\\u8EAB\\u4EFD\\u8BC1\",\n                    rules: [{\n                      required: true,\n                      message: '请输入身份证!'\n                    }],\n                    children: /*#__PURE__*/_jsxDEV(Input, {\n                      maxLength: 18,\n                      autoComplete: \"off\",\n                      placeholder: \"\\u8BF7\\u8F93\\u5165\\u8EAB\\u4EFD\\u8BC1\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 195,\n                      columnNumber: 53\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 190,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 189,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(Row, {\n                gutter: 16,\n                children: /*#__PURE__*/_jsxDEV(Col, {\n                  span: 12,\n                  children: /*#__PURE__*/_jsxDEV(Form.Item, {\n                    name: \"phone\",\n                    label: \"\\u624B\\u673A\\u53F7\\u7801\",\n                    rules: [{\n                      required: true,\n                      message: '请输入手机号码!'\n                    }],\n                    required: \"true\",\n                    children: /*#__PURE__*/_jsxDEV(Input, {\n                      maxLength: 11,\n                      autoComplete: \"off\",\n                      placeholder: \"\\u8BF7\\u8F93\\u5165\\u624B\\u673A\\u53F7\\u7801\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 207,\n                      columnNumber: 53\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 201,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 200,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  textAlign: 'right',\n                  marginTop: '50px'\n                },\n                children: /*#__PURE__*/_jsxDEV(Space, {\n                  size: \"large\",\n                  children: [/*#__PURE__*/_jsxDEV(Button, {\n                    onClick: this.onClose,\n                    style: {\n                      marginRight: 8\n                    },\n                    children: \"\\u53D6\\u6D88\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 218,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    type: \"primary\",\n                    htmlType: \"submit\",\n                    children: \"\\u786E\\u8BA4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 221,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 217,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 211,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Drawer, {\n            title: \"\\u7F16\\u8F91\\u7528\\u6237\",\n            width: 500,\n            onClose: this.onClose,\n            visible: visible === 2,\n            bodyStyle: {\n              paddingBottom: 80\n            },\n            children: /*#__PURE__*/_jsxDEV(Form, {\n              layout: \"vertical\",\n              onFinish: this.updateUser,\n              ref: this.myForm,\n              children: [/*#__PURE__*/_jsxDEV(Row, {\n                gutter: 16,\n                children: /*#__PURE__*/_jsxDEV(Col, {\n                  span: 12,\n                  children: /*#__PURE__*/_jsxDEV(Form.Item, {\n                    name: \"name\",\n                    label: \"\\u59D3\\u540D\",\n                    rules: [{\n                      required: true,\n                      message: '请输入姓名!'\n                    }],\n                    initialValue: passengerInfo.passengerName,\n                    children: /*#__PURE__*/_jsxDEV(Input, {\n                      autoComplete: \"off\",\n                      placeholder: \"\\u8BF7\\u8F93\\u5165\\u59D3\\u540D\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 252,\n                      columnNumber: 53\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 246,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 245,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 244,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(Row, {\n                gutter: 16,\n                children: /*#__PURE__*/_jsxDEV(Col, {\n                  span: 12,\n                  children: /*#__PURE__*/_jsxDEV(Form.Item, {\n                    name: \"idCard\",\n                    label: \"\\u8EAB\\u4EFD\\u8BC1\",\n                    rules: [{\n                      required: true,\n                      message: '请输入身份证!'\n                    }],\n                    initialValue: passengerInfo.passengerCard,\n                    children: /*#__PURE__*/_jsxDEV(Input, {\n                      maxLength: 18,\n                      autoComplete: \"off\",\n                      placeholder: \"\\u8BF7\\u8F93\\u5165\\u8EAB\\u4EFD\\u8BC1\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 264,\n                      columnNumber: 53\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 258,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 257,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(Row, {\n                gutter: 16,\n                children: /*#__PURE__*/_jsxDEV(Col, {\n                  span: 12,\n                  children: /*#__PURE__*/_jsxDEV(Form.Item, {\n                    name: \"phone\",\n                    label: \"\\u624B\\u673A\\u53F7\\u7801\",\n                    rules: [{\n                      required: true,\n                      message: '请输入手机号码!'\n                    }],\n                    required: \"true\",\n                    initialValue: passengerInfo.passengerPhone,\n                    children: /*#__PURE__*/_jsxDEV(Input, {\n                      maxLength: 11,\n                      autoComplete: \"off\",\n                      placeholder: \"\\u8BF7\\u8F93\\u5165\\u624B\\u673A\\u53F7\\u7801\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 277,\n                      columnNumber: 53\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 270,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 269,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(Row, {\n                gutter: 16,\n                children: /*#__PURE__*/_jsxDEV(Col, {\n                  span: 12,\n                  children: /*#__PURE__*/_jsxDEV(Form.Item, {\n                    name: \"id\",\n                    initialValue: passengerInfo.id,\n                    children: /*#__PURE__*/_jsxDEV(Input, {\n                      hidden: true\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 287,\n                      columnNumber: 53\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 283,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 282,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  textAlign: 'right',\n                  marginTop: '50px'\n                },\n                children: /*#__PURE__*/_jsxDEV(Space, {\n                  size: \"large\",\n                  children: [/*#__PURE__*/_jsxDEV(Button, {\n                    onClick: this.onClose,\n                    style: {\n                      marginRight: 8\n                    },\n                    children: \"\\u53D6\\u6D88\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 298,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    type: \"primary\",\n                    htmlType: \"submit\",\n                    children: \"\\u786E\\u8BA4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 301,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 297,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 291,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 25\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["E:/React/workspace/order-ticket/src/pages/User/Passenger/index.jsx"],"names":["React","Component","Input","Card","Table","Drawer","Form","Button","Col","Row","Space","message","Radio","Popconfirm","PlusOutlined","LinkButton","addPassenger","deletePassenger","editPassenger","getPassengerList","storageUtils","Link","PlatForm","myForm","createRef","state","showStatus","count","dataSource","passengerInfo","showAddUser","setState","visible","onClose","current","resetFields","values","name","idCard","phone","user","getUser","result","id","code","success","data","error","msg","showUpdateUser","record","updateUser","handleDelete","componentDidMount","Object","keys","length","render","columns","title","dataIndex","key","align","_","paddingBottom","required","textAlign","marginTop","marginRight","passengerName","passengerCard","passengerPhone"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport {\r\n    Input, Card, Table,\r\n    Drawer, Form, Button, Col, Row, Space, message, Radio, Popconfirm\r\n} from 'antd';\r\nimport {\r\n    PlusOutlined\r\n} from '@ant-design/icons';\r\nimport LinkButton from '../../../components/LinkButton';\r\nimport { addPassenger, deletePassenger, editPassenger, getPassengerList } from '../../../api/user/user';\r\nimport storageUtils from '../../../utils/storageUtils'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport default class PlatForm extends Component {\r\n    myForm = React.createRef()\r\n    state = {\r\n        showStatus: 0,\r\n        count: 0,\r\n        dataSource: [],\r\n        passengerInfo: {}\r\n    }\r\n\r\n    // 打开添加抽屉\r\n    showAddUser = () => {\r\n        this.setState({ visible: 1 })\r\n    }\r\n\r\n    // 关闭抽屉\r\n    onClose = () => {\r\n        this.setState({ visible: 0 })\r\n        this.myForm.current.resetFields()\r\n    }\r\n\r\n    // 添加用户\r\n    addPassenger = async (values) => {\r\n        const { name, idCard, phone } = values\r\n        const user = storageUtils.getUser()\r\n        const result = await addPassenger(phone, name, idCard, user.id)\r\n        if (result.code === 1) {\r\n            message.success('添加成功')\r\n            const result = await getPassengerList(user.id)\r\n            if (result.code === 1) {\r\n                this.setState({ dataSource: result.data })\r\n            } else {\r\n                message.error(result.msg)\r\n            }\r\n            this.setState({ visible: 0 })\r\n            this.myForm.current.resetFields()\r\n        } else {\r\n            message.error(result.msg)\r\n        }\r\n\r\n    }\r\n\r\n    // 打开编辑的抽屉\r\n    showUpdateUser = (record) => {\r\n        this.setState({ visible: 2, passengerInfo: record })\r\n    }\r\n\r\n    updateUser = async (values) => {\r\n        const { phone, name, idCard, id } = values\r\n        const user = storageUtils.getUser()\r\n        const result = await editPassenger(phone, name, idCard, id)\r\n        if (result.code === 1) {\r\n            message.success('编辑成功')\r\n            const result = await getPassengerList(user.id)\r\n            if (result.code === 1) {\r\n                this.setState({ dataSource: result.data })\r\n            } else {\r\n                message.error(result.msg)\r\n            }\r\n            this.setState({ visible: 0 })\r\n            this.myForm.current.resetFields()\r\n        }\r\n\r\n    }\r\n\r\n    handleDelete = async (id) => {\r\n        const result = await deletePassenger(id)\r\n        if (result.code === 1) {\r\n            message.success('删除成功')\r\n            const user = storageUtils.getUser()\r\n            const result = await getPassengerList(user.id)\r\n            if (result.code === 1) {\r\n                this.setState({ dataSource: result.data })\r\n            } else {\r\n                message.error(result.msg)\r\n            }\r\n        } else {\r\n            message.error(result.msg)\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n        const user = storageUtils.getUser()\r\n        if (Object.keys(user).length === 0) return\r\n        const result = await getPassengerList(user.id)\r\n        if (result.code === 1) {\r\n            this.setState({ dataSource: result.data })\r\n        } else {\r\n            message.error(result.msg)\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        const { visible, dataSource, passengerInfo } = this.state\r\n        const user = storageUtils.getUser()\r\n        const columns = [\r\n            {\r\n                title: '姓名',\r\n                dataIndex: 'passengerName',\r\n                key: '1',\r\n                align: 'center',\r\n            },\r\n            {\r\n                title: '身份证',\r\n                dataIndex: 'passengerCard',\r\n                key: '2',\r\n                align: 'center',\r\n            },\r\n            {\r\n                title: '手机号码',\r\n                dataIndex: 'passengerPhone',\r\n                key: '3',\r\n                align: 'center',\r\n            },\r\n            {\r\n                title: '操作',\r\n                key: '4',\r\n                render: (_, record) => (\r\n                    <Space size=\"middle\">\r\n                        <LinkButton onClick={() => { this.showUpdateUser(record) }}>编辑</LinkButton>\r\n                        <Popconfirm title=\"确定删除吗\" onConfirm={() => this.handleDelete(record.id)}>\r\n                            <LinkButton >删除</LinkButton>\r\n                        </Popconfirm>\r\n                    </Space>\r\n                ),\r\n                align: 'center'\r\n            },\r\n        ]\r\n        return (\r\n            <div>\r\n                {\r\n                    Object.keys(user).length === 0 ?\r\n                        <span>请先<Link to=\"/user/login\">登录</Link></span> :\r\n                        <div>\r\n                            <div>\r\n                                <Card\r\n                                    extra={\r\n                                        <Button icon={<PlusOutlined />} type=\"primary\" onClick={this.showAddUser}>新增</Button>\r\n                                    }\r\n                                >\r\n                                    <Table\r\n                                        columns={columns}\r\n                                        dataSource={dataSource}\r\n                                        bordered\r\n                                        rowKey=\"key\"\r\n                                        pagination={false}\r\n                                    />\r\n                                </Card>\r\n                            </div>\r\n                            {/* 新增的抽屉 */}\r\n                            <div>\r\n                                <Drawer\r\n                                    title=\"新增用户\"\r\n                                    width={500}\r\n                                    onClose={this.onClose}\r\n                                    visible={visible === 1}\r\n                                    bodyStyle={{ paddingBottom: 80 }}\r\n                                >\r\n                                    <Form\r\n                                        layout=\"vertical\"\r\n                                        onFinish={this.addPassenger}\r\n                                        ref={this.myForm}\r\n                                    >\r\n                                        <Row gutter={16}>\r\n                                            <Col span={12}>\r\n                                                <Form.Item\r\n                                                    name=\"name\"\r\n                                                    label=\"姓名\"\r\n                                                    rules={[{ required: true, message: '请输入姓名!' }]}\r\n                                                >\r\n                                                    <Input autoComplete=\"off\" placeholder=\"请输入姓名\" />\r\n                                                </Form.Item>\r\n                                            </Col>\r\n                                        </Row>\r\n                                        <Row gutter={16}>\r\n                                            <Col span={12}>\r\n                                                <Form.Item\r\n                                                    name=\"idCard\"\r\n                                                    label=\"身份证\"\r\n                                                    rules={[{ required: true, message: '请输入身份证!' }]}\r\n                                                >\r\n                                                    <Input maxLength={18} autoComplete=\"off\" placeholder=\"请输入身份证\" />\r\n                                                </Form.Item>\r\n                                            </Col>\r\n                                        </Row>\r\n                                        <Row gutter={16}>\r\n                                            <Col span={12}>\r\n                                                <Form.Item\r\n                                                    name=\"phone\"\r\n                                                    label=\"手机号码\"\r\n                                                    rules={[{ required: true, message: '请输入手机号码!' }]}\r\n                                                    required=\"true\"\r\n                                                >\r\n                                                    <Input maxLength={11} autoComplete=\"off\" placeholder=\"请输入手机号码\" />\r\n                                                </Form.Item>\r\n                                            </Col>\r\n                                        </Row>\r\n                                        <div\r\n                                            style={{\r\n                                                textAlign: 'right',\r\n                                                marginTop: '50px'\r\n                                            }}\r\n                                        >\r\n                                            <Space size=\"large\">\r\n                                                <Button onClick={this.onClose} style={{ marginRight: 8 }}>\r\n                                                    取消\r\n                                                </Button>\r\n                                                <Button type=\"primary\" htmlType=\"submit\">\r\n                                                    确认\r\n                                                </Button>\r\n                                            </Space>\r\n\r\n                                        </div>\r\n                                    </Form>\r\n                                </Drawer>\r\n                            </div>\r\n                            {/* 编辑的抽屉 */}\r\n                            <div>\r\n                                <Drawer\r\n                                    title=\"编辑用户\"\r\n                                    width={500}\r\n                                    onClose={this.onClose}\r\n                                    visible={visible === 2}\r\n                                    bodyStyle={{ paddingBottom: 80 }}\r\n                                >\r\n                                    <Form\r\n                                        layout=\"vertical\"\r\n                                        onFinish={this.updateUser}\r\n                                        ref={this.myForm}\r\n                                    >\r\n                                        <Row gutter={16}>\r\n                                            <Col span={12}>\r\n                                                <Form.Item\r\n                                                    name=\"name\"\r\n                                                    label=\"姓名\"\r\n                                                    rules={[{ required: true, message: '请输入姓名!' }]}\r\n                                                    initialValue={passengerInfo.passengerName}\r\n                                                >\r\n                                                    <Input autoComplete=\"off\" placeholder=\"请输入姓名\" />\r\n                                                </Form.Item>\r\n                                            </Col>\r\n                                        </Row>\r\n                                        <Row gutter={16}>\r\n                                            <Col span={12}>\r\n                                                <Form.Item\r\n                                                    name=\"idCard\"\r\n                                                    label=\"身份证\"\r\n                                                    rules={[{ required: true, message: '请输入身份证!' }]}\r\n                                                    initialValue={passengerInfo.passengerCard}\r\n                                                >\r\n                                                    <Input maxLength={18} autoComplete=\"off\" placeholder=\"请输入身份证\" />\r\n                                                </Form.Item>\r\n                                            </Col>\r\n                                        </Row>\r\n                                        <Row gutter={16}>\r\n                                            <Col span={12}>\r\n                                                <Form.Item\r\n                                                    name=\"phone\"\r\n                                                    label=\"手机号码\"\r\n                                                    rules={[{ required: true, message: '请输入手机号码!' }]}\r\n                                                    required=\"true\"\r\n                                                    initialValue={passengerInfo.passengerPhone}\r\n                                                >\r\n                                                    <Input maxLength={11} autoComplete=\"off\" placeholder=\"请输入手机号码\" />\r\n                                                </Form.Item>\r\n                                            </Col>\r\n                                        </Row>\r\n                                        <Row gutter={16}>\r\n                                            <Col span={12}>\r\n                                                <Form.Item\r\n                                                    name=\"id\"\r\n                                                    initialValue={passengerInfo.id}\r\n                                                >\r\n                                                    <Input hidden={true} />\r\n                                                </Form.Item>\r\n                                            </Col>\r\n                                        </Row>\r\n                                        <div\r\n                                            style={{\r\n                                                textAlign: 'right',\r\n                                                marginTop: '50px'\r\n                                            }}\r\n                                        >\r\n                                            <Space size=\"large\">\r\n                                                <Button onClick={this.onClose} style={{ marginRight: 8 }}>\r\n                                                    取消\r\n                                                </Button>\r\n                                                <Button type=\"primary\" htmlType=\"submit\">\r\n                                                    确认\r\n                                                </Button>\r\n                                            </Space>\r\n\r\n                                        </div>\r\n                                    </Form>\r\n                                </Drawer>\r\n                            </div>\r\n                        </div>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}